<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Learn how to use the programming language Python to analyze financial statements using financial ratios.">

<title>Financial Statement Analysis with Python – Tidy Finance</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../python/discounted-cash-flow-analysis.html" rel="next">
<link href="../python/capital-asset-pricing-model.html" rel="prev">
<link href="../assets/img/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-0514632cc3f7a6d071f65f884e64e3e1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-DH3KZSMJ5W"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-DH3KZSMJ5W', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"interstitial",
  "consent_type":"express",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  
<style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../assets/css/global.css">
<meta property="og:title" content="Financial Statement Analysis with Python">
<meta property="og:description" content="An opinionated approach on empirical research in financial economics">
<meta property="og:image" content="https://www.tidy-finance.org/assets/img/balance-sheet.svg">
<meta property="og:site_name" content="Tidy Finance">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../assets/img/logo-website-white.png" alt="" class="navbar-logo light-content">
    <img src="../assets/img/logo-website-white.png" alt="" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Tidy Finance</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../r/index.html"> 
<span class="menu-text">R</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../python/index.html" aria-current="page"> 
<span class="menu-text">Python</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../contribute.html"> 
<span class="menu-text">Contribute</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../support.html"> 
<span class="menu-text">Support</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://talks.tidy-finance.org"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../workshops/reproducible-research-workflows.html"> 
<span class="menu-text">Workshops</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">Financial Statement Analysis</h1>
        </a>     
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Tidy Finance with Python</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidy Finance with Python</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Prerequisits</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/setting-up-your-environment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setting Up Your Environment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/the-tidyfinance-python-package.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The <code>tidyfinance</code> Python package</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Getting Started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/working-with-stock-returns.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working with Stock Returns</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/modern-portfolio-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modern Portfolio Theory</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/capital-asset-pricing-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Capital Asset Pricing Model</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/financial-statement-analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Financial Statement Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/discounted-cash-flow-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discounted Cash Flow Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Financial Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/accessing-and-managing-financial-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Accessing and Managing Financial Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/wrds-crsp-and-compustat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">WRDS, CRSP, and Compustat</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/trace-and-fisd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TRACE and FISD</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/other-data-providers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other Data Providers</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Asset Pricing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/beta-estimation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Beta Estimation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/univariate-portfolio-sorts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Univariate Portfolio Sorts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/size-sorts-and-p-hacking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Size Sorts and p-Hacking</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/value-and-bivariate-sorts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Value and Bivariate Sorts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/replicating-fama-and-french-factors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Replicating Fama-French Factors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/fama-macbeth-regressions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fama-MacBeth Regressions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Modeling and Machine Learning</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/fixed-effects-and-clustered-standard-errors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fixed Effects and Clustered Standard Errors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/difference-in-differences.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Difference in Differences</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/factor-selection-via-machine-learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Factor Selection via Machine Learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/option-pricing-via-machine-learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Option Pricing via Machine Learning</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Portfolio Optimization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/parametric-portfolio-policies.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Parametric Portfolio Policies</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/constrained-optimization-and-backtesting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Constrained Optimization and Backtesting</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendix</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/wrds-dummy-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">WRDS Dummy Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/cover-image.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cover Image</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/clean-enhanced-trace-with-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clean Enhanced TRACE with Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/proofs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Proofs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/colophon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Colophon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/changelog.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Changelog</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#balance-sheet-statements" id="toc-balance-sheet-statements" class="nav-link active" data-scroll-target="#balance-sheet-statements">Balance Sheet Statements</a></li>
  <li><a href="#income-statements" id="toc-income-statements" class="nav-link" data-scroll-target="#income-statements">Income Statements</a></li>
  <li><a href="#cash-flow-statements" id="toc-cash-flow-statements" class="nav-link" data-scroll-target="#cash-flow-statements">Cash Flow Statements</a></li>
  <li><a href="#download-financial-statements" id="toc-download-financial-statements" class="nav-link" data-scroll-target="#download-financial-statements">Download Financial Statements</a></li>
  <li><a href="#liquidity-ratios" id="toc-liquidity-ratios" class="nav-link" data-scroll-target="#liquidity-ratios">Liquidity Ratios</a></li>
  <li><a href="#leverage-ratios" id="toc-leverage-ratios" class="nav-link" data-scroll-target="#leverage-ratios">Leverage Ratios</a></li>
  <li><a href="#efficiency-ratios" id="toc-efficiency-ratios" class="nav-link" data-scroll-target="#efficiency-ratios">Efficiency Ratios</a></li>
  <li><a href="#profitability-ratios" id="toc-profitability-ratios" class="nav-link" data-scroll-target="#profitability-ratios">Profitability Ratios</a></li>
  <li><a href="#combining-financial-ratios" id="toc-combining-financial-ratios" class="nav-link" data-scroll-target="#combining-financial-ratios">Combining Financial Ratios</a></li>
  <li><a href="#financial-ratios-in-asset-pricing" id="toc-financial-ratios-in-asset-pricing" class="nav-link" data-scroll-target="#financial-ratios-in-asset-pricing">Financial Ratios in Asset Pricing</a></li>
  <li><a href="#key-takeaways" id="toc-key-takeaways" class="nav-link" data-scroll-target="#key-takeaways">Key Takeaways</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/tidy-finance/website/blob/main/python/financial-statement-analysis.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Financial Statement Analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You are reading <strong>Tidy Finance with Python</strong>. You can find the equivalent chapter for the sibling <strong>Tidy Finance with R</strong> <a href="../r/financial-statement-analysis.html">here</a>.</p>
</div>
</div>
<p>Financial statements and ratios are fundamental tools for understanding and evaluating companies. While we discuss how assets are priced in equilibrium in the previous chapter on the <a href="../python/capital-asset-pricing-model.html">Capital Asset Pricing Model</a>, this chapter examines how investors and analysts assess companies using accounting information. Financial statements serve as the primary source of standardized information about a company’s operations, financial position, and performance. Their standardization and legal requirements make them particularly valuable as all companies must file financial statements.</p>
<p>Building on this standardized information, financial ratios transform raw accounting data into meaningful metrics that facilitate analysis across companies and over time. These ratios serve multiple purposes in both academic research and practical applications. They enable investors to benchmark companies against their peers, identify industry trends, and screen for investment opportunities. In academic finance, ratios play a crucial role in asset pricing models (e.g., the book-to-market ratio in the Fama-French three-factor model) and corporate finance (e.g., capital structure research). In many practical applications, ratios help assess a company’s financial health and performance.</p>
<p>This chapter demonstrates how to access, process, and analyze financial statements using R. We start by reviewing the financial statements balance sheet, income statement, and cash flow statement. Then, we download publicly available statements to calculate key financial ratios, implement common screening strategies, and evaluate companies. Our analysis combines theoretical frameworks with practical implementation, providing tools for both academic research and investment practice.</p>
<p>For the purpose of this chapter, we use financial statements provided by the US Securities and Exchange Commission (i.e., SEC). While the SEC provides a web interface to search filings, programmatic access to financial statements greatly facilitates systematic analyses as ours. The Financial Modeling Prep (FMP) API offers such programmatic access, which we can leverage through the R package <code>fmpapi</code>.</p>
<p>The FMP API’s free tier provides access to:</p>
<ul>
<li>250 API calls per day,</li>
<li>Five years of historical fundamental data,</li>
<li>Real-time and historical stock prices, and</li>
<li>Key financial ratios and metrics.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <code>fmpapi</code> package is developed by Christoph Scheuch and not sponsored by or affiliated with FMP. However, you can get 15% off your FMP subscription by using this <a href="https://site.financialmodelingprep.com/pricing-plans?couponCode=tidyfinance">affiliate link</a>. By signing up through this link, you also support the development of this package at no extra cost to you.</p>
</div>
</div>
<p>Next to <code>fmpapi</code>, we use the following packages throughout this chapter:</p>
<div id="4cb35047" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> fmpapi <span class="im">import</span> fmp_get</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> <span class="op">*</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> mizani.formatters <span class="im">import</span> percent_format</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> adjustText <span class="im">import</span> adjust_text</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you use <code>pandas</code>, as we do here, we recommend you to install <code>fmpapi</code> with the corresponding dependencies: <code>pip install fmpapi[pandas]</code>.</p>
</div>
</div>
<section id="balance-sheet-statements" class="level2">
<h2 class="anchored" data-anchor-id="balance-sheet-statements">Balance Sheet Statements</h2>
<p>The balance sheet is one of the three primary financial statements capturing a company’s financial position at a specific moment in time. The statement lists all uses (assets) and sources (liabilities and equity) of funds, which result in the fundamental accounting equation:</p>
<p><span class="math display">\[\text{Assets} = \text{Liabilities} + \text{Equity}\]</span></p>
<p>This equation reflects a core principle of accounting: a company’s resources (assets) must equal its sources of funding, whether from creditors (liabilities) or investors (shareholders’ equity). Assets represent resources that the company controls and expects to generate future economic benefits, such as cash, inventory, or equipment. Liabilities encompass all obligations to external parties, from short-term payables to long-term debt. Shareholders’ equity represents the residual claim on assets after accounting for all liabilities.</p>
<p><a href="#fig-400" class="quarto-xref">Figure&nbsp;1</a> provides a stylized representation of a balance sheet’s structure. The visualization highlights how assets on the left side must equal the combined claims of creditors and shareholders on the right side.</p>
<div id="fig-400" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-400-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../assets/img/balance-sheet.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;1: A stylized representation of a balance sheet statement."><img src="../assets/img/balance-sheet.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-400-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: A stylized representation of a balance sheet statement.
</figcaption>
</figure>
</div>
<p>The asset side of the balance sheet typically comprises three main categories, each serving different roles in the company’s operations:</p>
<ol type="1">
<li>Current assets: These are assets expected to be converted into cash or used within one operating cycle (typically one year). They include, e.g., cash and cash equivalents, short-term investments, accounts receivable (money owed by customers), and inventory (raw materials, work in progress, and finished goods).</li>
<li>Non-current assets: These long-term assets support the company’s operations beyond one year like, e.g., property, plant, and equipment (PP&amp;E), long-term investments, and other long-term assets.</li>
<li>Intangible assets: These non-physical assets often represent significant value in modern companies, e.g., patents and intellectual property, trademarks and brands, and goodwill from acquisitions (a premium paid on the book value of the acquired assets). Intangible assets are usually also considered long-term assets, which means that they are included in the group of non-current assets.</li>
</ol>
<p><a href="#fig-401" class="quarto-xref">Figure&nbsp;2</a> illustrates this breakdown of assets, showing how companies classify their resources.</p>
<div id="fig-401" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-401-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../assets/img/balance-sheet-breakdown.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure&nbsp;2: A stylized representation of a balance sheet beakdown."><img src="../assets/img/balance-sheet-breakdown.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-401-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: A stylized representation of a balance sheet beakdown.
</figcaption>
</figure>
</div>
<p><a href="#fig-401" class="quarto-xref">Figure&nbsp;2</a> also shows the breakdown of liabilities. The liability side similarly follows a temporal classification, dividing obligations based on when they come due:</p>
<ol type="1">
<li>Current liabilities: Obligations due within one year such as accounts payable, short-term debt, current portion of long-term debt, and accrued expenses.</li>
<li>Non-current liabilities: Long-term obligations such as long-term debt, bonds payable, deferred tax liabilities, and pension obligations.</li>
</ol>
<p>Lastly, the equity section represents ownership claims and typically consists of:</p>
<ul>
<li>Retained earnings: Accumulated profits reinvested in the business.</li>
<li>Common stock: Par value and additional paid-in capital from share issuance.</li>
<li>Preferred stock: Hybrid securities with characteristics of both debt and equity.</li>
</ul>
<p><a href="#fig-401" class="quarto-xref">Figure&nbsp;2</a> also depicts this equity structure, showing how companies track different forms of ownership claims.</p>
<p>To illustrate these concepts in practice, <a href="#fig-404" class="quarto-xref">Figure&nbsp;3</a> presents Microsoft’s balance sheet from 2023. This real-world example demonstrates how one of the world’s largest technology companies structures its financial position, reflecting both traditional elements like PP&amp;E and modern aspects like significant intangible assets.</p>
<div id="fig-404" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-404-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../assets/img/balance-sheet-msft.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figure&nbsp;3: A screenshot of the balance sheet statement of Microsoft in 2023."><img src="../assets/img/balance-sheet-msft.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-404-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: A screenshot of the balance sheet statement of Microsoft in 2023.
</figcaption>
</figure>
</div>
<p>While there are more details, the basic structure is exactly the same as in the introduction above. Importantly, the balance sheet obeys the fundamental accounting equation as assets are equal to the sum of liabilities and equity. In subsequent sections, we will explore how to analyze such statements using financial ratios, particularly focusing on measures of liquidity, solvency, and efficiency.</p>
<p>Let us examine Microsoft’s balance sheet statements using the <code>fmp_get()</code> function. This function requires three main arguments: The type of financial data to retrieve (<code>resource</code>), the stock ticker symbol (<code>symbol</code>), and additional parameters like periodicity and number of periods (<code>params</code>).</p>
<div id="d4e16f79" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>fmp_get(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  resource<span class="op">=</span><span class="st">"balance-sheet-statement"</span>, </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  symbol<span class="op">=</span><span class="st">"MSFT"</span>, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  params<span class="op">=</span>{<span class="st">"period"</span>: <span class="st">"annual"</span>, <span class="st">"limit"</span>: <span class="dv">5</span>},</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  to_pandas<span class="op">=</span><span class="va">True</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">symbol</th>
<th data-quarto-table-cell-role="th">reported_currency</th>
<th data-quarto-table-cell-role="th">cik</th>
<th data-quarto-table-cell-role="th">filing_date</th>
<th data-quarto-table-cell-role="th">accepted_date</th>
<th data-quarto-table-cell-role="th">fiscal_year</th>
<th data-quarto-table-cell-role="th">period</th>
<th data-quarto-table-cell-role="th">cash_and_cash_equivalents</th>
<th data-quarto-table-cell-role="th">short_term_investments</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">additional_paid_in_capital</th>
<th data-quarto-table-cell-role="th">accumulated_other_comprehensive_income_loss</th>
<th data-quarto-table-cell-role="th">other_total_stockholders_equity</th>
<th data-quarto-table-cell-role="th">total_stockholders_equity</th>
<th data-quarto-table-cell-role="th">total_equity</th>
<th data-quarto-table-cell-role="th">minority_interest</th>
<th data-quarto-table-cell-role="th">total_liabilities_and_total_equity</th>
<th data-quarto-table-cell-role="th">total_investments</th>
<th data-quarto-table-cell-role="th">total_debt</th>
<th data-quarto-table-cell-role="th">net_debt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>2025-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2025-07-30</td>
<td>2025-07-30 16:11:40</td>
<td>2025</td>
<td>FY</td>
<td>30242000000</td>
<td>64313000000</td>
<td>...</td>
<td>0</td>
<td>-3347000000</td>
<td>0</td>
<td>343479000000</td>
<td>343479000000</td>
<td>0</td>
<td>619003000000</td>
<td>79446000000</td>
<td>60588000000</td>
<td>30346000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>2024-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2024-07-30</td>
<td>2024-07-30 16:06:22</td>
<td>2024</td>
<td>FY</td>
<td>18315000000</td>
<td>57216000000</td>
<td>...</td>
<td>0</td>
<td>-5590000000</td>
<td>0</td>
<td>268477000000</td>
<td>268477000000</td>
<td>0</td>
<td>512163000000</td>
<td>71816000000</td>
<td>67127000000</td>
<td>48812000000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>2023-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2023-07-27</td>
<td>2023-07-27 16:01:56</td>
<td>2023</td>
<td>FY</td>
<td>34704000000</td>
<td>76552000000</td>
<td>...</td>
<td>0</td>
<td>-6343000000</td>
<td>0</td>
<td>206223000000</td>
<td>206223000000</td>
<td>0</td>
<td>411976000000</td>
<td>86431000000</td>
<td>59965000000</td>
<td>25261000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>2022-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2022-07-28</td>
<td>2022-07-28 16:06:19</td>
<td>2022</td>
<td>FY</td>
<td>13931000000</td>
<td>90818000000</td>
<td>...</td>
<td>0</td>
<td>-4678000000</td>
<td>0</td>
<td>166542000000</td>
<td>166542000000</td>
<td>0</td>
<td>364840000000</td>
<td>97709000000</td>
<td>61270000000</td>
<td>47339000000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>2021-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2021-07-29</td>
<td>2021-07-29 16:21:55</td>
<td>2021</td>
<td>FY</td>
<td>14224000000</td>
<td>116032000000</td>
<td>...</td>
<td>0</td>
<td>1822000000</td>
<td>0</td>
<td>141988000000</td>
<td>141988000000</td>
<td>0</td>
<td>333779000000</td>
<td>122016000000</td>
<td>67775000000</td>
<td>53551000000</td>
</tr>
</tbody>
</table>

<p>5 rows × 61 columns</p>
</div>
</div>
</div>
<p>The function returns a data frame containing detailed balance sheet information, with each row representing a different reporting period. This structured format makes it easy to analyze trends over time and calculate financial ratios. We can see how the data aligns with the balance sheet components we discussed earlier, from current assets like cash and receivables to long-term assets and various forms of liabilities and equity.</p>
</section>
<section id="income-statements" class="level2">
<h2 class="anchored" data-anchor-id="income-statements">Income Statements</h2>
<p>While the balance sheet provides a snapshot of a company’s financial position at a point in time, the income statement (also called profit and loss statement or PnL) measures financial performance over a period, typically a quarter or year. It follows a hierarchical structure that progressively captures different levels of profitability:</p>
<ul>
<li>Revenue (Sales): The total income generated from goods or services sold.</li>
<li>Cost of goods sold (COGS): Direct costs associated with producing the goods or services (raw materials, labor, etc.).</li>
<li>Gross profit: Revenue minus COGS, showing the basic profitability from core operations.</li>
<li>Operating expenses: Costs related to regular business operations (e.g., salaries, rent, and marketing).</li>
<li>Operating income (EBIT): Earnings before interest and taxes (measures profitability from core operations before financing and tax costs), often also referred to as operating profit.</li>
<li>Interest and taxes: The interest paid on debt is deducted for determining the taxable income.</li>
<li>Net income: The “bottom line”, total profit after all expenses, interest, and taxes are subtracted from revenue.</li>
</ul>
<p><a href="#fig-405" class="quarto-xref">Figure&nbsp;4</a> illustrates this progression from total revenue to net income, showing how various costs and expenses are subtracted to arrive at different measure of profit.</p>
<div id="fig-405" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-405-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../assets/img/income-statements.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Figure&nbsp;4: A stylized representation of an income statement."><img src="../assets/img/income-statements.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-405-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: A stylized representation of an income statement.
</figcaption>
</figure>
</div>
<p>Consider Microsoft’s 2023 income statement in <a href="#fig-406" class="quarto-xref">Figure&nbsp;5</a>, which exemplifies how a leading technology company reports its financial performance:</p>
<div id="fig-406" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-406-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../assets/img/income-statements-msft.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Figure&nbsp;5: A screenshot of the income statement of Microsoft in 2023."><img src="../assets/img/income-statements-msft.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-406-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: A screenshot of the income statement of Microsoft in 2023.
</figcaption>
</figure>
</div>
<p>We can also access this data programmatically using the FMP API:</p>
<div id="bd5db09d" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>fmp_get(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  resource<span class="op">=</span><span class="st">"income-statement"</span>, </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  symbol<span class="op">=</span><span class="st">"MSFT"</span>, </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  params<span class="op">=</span>{<span class="st">"period"</span>: <span class="st">"annual"</span>, <span class="st">"limit"</span>: <span class="dv">5</span>},</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  to_pandas<span class="op">=</span><span class="va">True</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">symbol</th>
<th data-quarto-table-cell-role="th">reported_currency</th>
<th data-quarto-table-cell-role="th">cik</th>
<th data-quarto-table-cell-role="th">filing_date</th>
<th data-quarto-table-cell-role="th">accepted_date</th>
<th data-quarto-table-cell-role="th">fiscal_year</th>
<th data-quarto-table-cell-role="th">period</th>
<th data-quarto-table-cell-role="th">revenue</th>
<th data-quarto-table-cell-role="th">cost_of_revenue</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">net_income_from_continuing_operations</th>
<th data-quarto-table-cell-role="th">net_income_from_discontinued_operations</th>
<th data-quarto-table-cell-role="th">other_adjustments_to_net_income</th>
<th data-quarto-table-cell-role="th">net_income</th>
<th data-quarto-table-cell-role="th">net_income_deductions</th>
<th data-quarto-table-cell-role="th">bottom_line_net_income</th>
<th data-quarto-table-cell-role="th">eps</th>
<th data-quarto-table-cell-role="th">eps_diluted</th>
<th data-quarto-table-cell-role="th">weighted_average_shs_out</th>
<th data-quarto-table-cell-role="th">weighted_average_shs_out_dil</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>2025-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2025-07-30</td>
<td>2025-07-30 16:11:40</td>
<td>2025</td>
<td>FY</td>
<td>281724000000</td>
<td>87831000000</td>
<td>...</td>
<td>101832000000</td>
<td>0</td>
<td>0</td>
<td>101832000000</td>
<td>0</td>
<td>101832000000</td>
<td>13.70</td>
<td>13.64</td>
<td>7433000000</td>
<td>7465000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>2024-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2024-07-30</td>
<td>2024-07-30 16:06:22</td>
<td>2024</td>
<td>FY</td>
<td>245122000000</td>
<td>74114000000</td>
<td>...</td>
<td>88136000000</td>
<td>0</td>
<td>0</td>
<td>88136000000</td>
<td>0</td>
<td>88136000000</td>
<td>11.86</td>
<td>11.80</td>
<td>7431000000</td>
<td>7469000000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>2023-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2023-07-27</td>
<td>2023-07-27 16:01:56</td>
<td>2023</td>
<td>FY</td>
<td>211915000000</td>
<td>65863000000</td>
<td>...</td>
<td>72361000000</td>
<td>0</td>
<td>0</td>
<td>72361000000</td>
<td>0</td>
<td>72361000000</td>
<td>9.72</td>
<td>9.68</td>
<td>7446000000</td>
<td>7472000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>2022-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2022-07-28</td>
<td>2022-07-28 16:06:19</td>
<td>2022</td>
<td>FY</td>
<td>198270000000</td>
<td>62650000000</td>
<td>...</td>
<td>72738000000</td>
<td>0</td>
<td>0</td>
<td>72738000000</td>
<td>0</td>
<td>72738000000</td>
<td>9.70</td>
<td>9.65</td>
<td>7496000000</td>
<td>7540000000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>2021-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2021-07-29</td>
<td>2021-07-29 16:21:55</td>
<td>2021</td>
<td>FY</td>
<td>168088000000</td>
<td>52232000000</td>
<td>...</td>
<td>61271000000</td>
<td>0</td>
<td>0</td>
<td>61271000000</td>
<td>0</td>
<td>61271000000</td>
<td>8.12</td>
<td>8.05</td>
<td>7547000000</td>
<td>7608000000</td>
</tr>
</tbody>
</table>

<p>5 rows × 39 columns</p>
</div>
</div>
</div>
<p>In later sections, we will use income statement items to calculate important profitability ratios and examine how they compare across companies and industries. The income statement’s focus on performance complements the balance sheet’s position snapshot, providing a more complete picture of a company’s core business operations</p>
</section>
<section id="cash-flow-statements" class="level2">
<h2 class="anchored" data-anchor-id="cash-flow-statements">Cash Flow Statements</h2>
<p>The cash flow statement complements the balance sheet and income statement by tracking the actual movement of cash through the business. While the income statement shows profitability and the balance sheet shows financial position, the cash flow statement reveals a company’s ability to generate and manage cash - a crucial aspect of every business. The statement is divided into three main categories:</p>
<ul>
<li>Operating activities: Cash generated from a company’s core business activities (i.e., net income adjusted for non-cash items like depreciation and changes in working capital).</li>
<li>Financing activities: Cash flows related to borrowing, repaying debt, issuing equity, or paying dividends.</li>
<li>Investing activities: Cash spent on or received from long-term investments, such as purchasing or selling property and equipment.</li>
</ul>
<p><a href="#fig-407" class="quarto-xref">Figure&nbsp;6</a> illustrates these three categories of cash flows, which map into changes in the company’s cash balance.</p>
<div id="fig-407" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-407-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../assets/img/cash-flow-statements.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Figure&nbsp;6: A stylized representation of a cash flow statement."><img src="../assets/img/cash-flow-statements.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-407-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: A stylized representation of a cash flow statement.
</figcaption>
</figure>
</div>
<p>The statement reconciles accrual-based accounting (used in the income statement) with actual cash movements. This reconciliation is crucial because profitable companies can still face cash shortages, and unprofitable companies might maintain positive cash flow. We complement the brief introduction, by Microsoft’s 2023 cash flow statement in <a href="#fig-408" class="quarto-xref">Figure&nbsp;7</a>.</p>
<div id="fig-408" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-408-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../assets/img/cash-flow-statements-msft.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Figure&nbsp;7: A screenshot of the cash flow statement of Microsoft in 2023."><img src="../assets/img/cash-flow-statements-msft.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-408-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: A screenshot of the cash flow statement of Microsoft in 2023.
</figcaption>
</figure>
</div>
<p>Of course, we can access this data through the FMP API:</p>
<div id="04517a8e" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fmp_get(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  resource<span class="op">=</span><span class="st">"cash-flow-statement"</span>, </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  symbol<span class="op">=</span><span class="st">"MSFT"</span>, </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  params<span class="op">=</span>{<span class="st">"period"</span>: <span class="st">"annual"</span>, <span class="st">"limit"</span>: <span class="dv">5</span>},</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  to_pandas<span class="op">=</span><span class="va">True</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">symbol</th>
<th data-quarto-table-cell-role="th">reported_currency</th>
<th data-quarto-table-cell-role="th">cik</th>
<th data-quarto-table-cell-role="th">filing_date</th>
<th data-quarto-table-cell-role="th">accepted_date</th>
<th data-quarto-table-cell-role="th">fiscal_year</th>
<th data-quarto-table-cell-role="th">period</th>
<th data-quarto-table-cell-role="th">net_income</th>
<th data-quarto-table-cell-role="th">depreciation_and_amortization</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">net_cash_provided_by_financing_activities</th>
<th data-quarto-table-cell-role="th">effect_of_forex_changes_on_cash</th>
<th data-quarto-table-cell-role="th">net_change_in_cash</th>
<th data-quarto-table-cell-role="th">cash_at_end_of_period</th>
<th data-quarto-table-cell-role="th">cash_at_beginning_of_period</th>
<th data-quarto-table-cell-role="th">operating_cash_flow</th>
<th data-quarto-table-cell-role="th">capital_expenditure</th>
<th data-quarto-table-cell-role="th">free_cash_flow</th>
<th data-quarto-table-cell-role="th">income_taxes_paid</th>
<th data-quarto-table-cell-role="th">interest_paid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>2025-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2025-07-30</td>
<td>2025-07-30 16:11:40</td>
<td>2025</td>
<td>FY</td>
<td>101832000000</td>
<td>34153000000</td>
<td>...</td>
<td>-51699000000</td>
<td>63000000</td>
<td>11927000000</td>
<td>30242000000</td>
<td>18315000000</td>
<td>136162000000</td>
<td>-64551000000</td>
<td>71611000000</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>2024-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2024-07-30</td>
<td>2024-07-30 16:06:22</td>
<td>2024</td>
<td>FY</td>
<td>88136000000</td>
<td>22287000000</td>
<td>...</td>
<td>-37757000000</td>
<td>-210000000</td>
<td>-16389000000</td>
<td>18315000000</td>
<td>34704000000</td>
<td>118548000000</td>
<td>-44477000000</td>
<td>74071000000</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>2023-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2023-07-27</td>
<td>2023-07-27 16:01:56</td>
<td>2023</td>
<td>FY</td>
<td>72361000000</td>
<td>13861000000</td>
<td>...</td>
<td>-43935000000</td>
<td>-194000000</td>
<td>20773000000</td>
<td>34704000000</td>
<td>13931000000</td>
<td>87582000000</td>
<td>-28107000000</td>
<td>59475000000</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>2022-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2022-07-28</td>
<td>2022-07-28 16:06:19</td>
<td>2022</td>
<td>FY</td>
<td>72738000000</td>
<td>14460000000</td>
<td>...</td>
<td>-58876000000</td>
<td>-141000000</td>
<td>-293000000</td>
<td>13931000000</td>
<td>14224000000</td>
<td>89035000000</td>
<td>-23886000000</td>
<td>65149000000</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>2021-06-30</td>
<td>MSFT</td>
<td>USD</td>
<td>0000789019</td>
<td>2021-07-29</td>
<td>2021-07-29 16:21:55</td>
<td>2021</td>
<td>FY</td>
<td>61271000000</td>
<td>11686000000</td>
<td>...</td>
<td>-48486000000</td>
<td>-29000000</td>
<td>648000000</td>
<td>14224000000</td>
<td>13576000000</td>
<td>76740000000</td>
<td>-20622000000</td>
<td>56118000000</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>5 rows × 47 columns</p>
</div>
</div>
</div>
<p>In subsequent sections, we will use cash flow data to calculate important cash flow ratios that help assess a company’s liquidity, capital allocation efficiency, and overall financial sustainability. The combination of all three financial statements - balance sheet, income statement, and cash flow statement - provides a comprehensive view of a company’s financial health and performance.</p>
</section>
<section id="download-financial-statements" class="level2">
<h2 class="anchored" data-anchor-id="download-financial-statements">Download Financial Statements</h2>
<p>We now turn to downloading and processing statements for multiple companies. The next code chunk demonstrates how to retrieve financial data for selected stocks that are supported in the free tier of FMP.</p>
<div id="d0ea9e46" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>sample <span class="op">=</span> [</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"AAPL"</span>, <span class="st">"MSFT"</span>, <span class="st">"GOOGL"</span>, <span class="st">"AMZN"</span>, <span class="st">"TSLA"</span>, <span class="st">"NVDA"</span>, <span class="st">"META"</span>, <span class="st">"NFLX"</span>, <span class="st">"DIS"</span>, <span class="st">"NKE"</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"WMT"</span>, <span class="st">"KO"</span>, <span class="st">"JPM"</span>, <span class="st">"BAC"</span>, <span class="st">"V"</span>, <span class="st">"XOM"</span>, <span class="st">"CVX"</span>, <span class="st">"JNJ"</span>, <span class="st">"PFE"</span>, <span class="st">"INTC"</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"AMD"</span>, <span class="st">"SBUX"</span>, <span class="st">"BABA"</span>, <span class="st">"UBER"</span>, <span class="st">"CSCO"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>params <span class="op">=</span> {<span class="st">"period"</span>: <span class="st">"annual"</span>, <span class="st">"limit"</span>: <span class="dv">5</span>}</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>balance_sheet_statements <span class="op">=</span> pd.concat(</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  [fmp_get(</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      resource<span class="op">=</span><span class="st">"balance-sheet-statement"</span>, symbol<span class="op">=</span>x, params<span class="op">=</span>params, to_pandas<span class="op">=</span><span class="va">True</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="cf">for</span> x <span class="kw">in</span> sample],</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  ignore_index<span class="op">=</span><span class="va">True</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>income_statements <span class="op">=</span> pd.concat(</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  [fmp_get(</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>      resource<span class="op">=</span><span class="st">"income-statement"</span>, symbol<span class="op">=</span>x, params<span class="op">=</span>params, to_pandas<span class="op">=</span><span class="va">True</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="cf">for</span> x <span class="kw">in</span> sample],</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  ignore_index<span class="op">=</span><span class="va">True</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>cash_flow_statements <span class="op">=</span> pd.concat(</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  [fmp_get(</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>      resource<span class="op">=</span><span class="st">"cash-flow-statement"</span>, symbol<span class="op">=</span>x, params<span class="op">=</span>params, to_pandas<span class="op">=</span><span class="va">True</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    ) <span class="cf">for</span> x <span class="kw">in</span> sample],</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  ignore_index<span class="op">=</span><span class="va">True</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The resulting data sets provide a foundation for cross-sectional analyses of financial ratios and trends across major U.S. companies. In the following sections, we use these data sets to calculate various financial ratios and analyze patterns in corporate financial performance.</p>
</section>
<section id="liquidity-ratios" class="level2">
<h2 class="anchored" data-anchor-id="liquidity-ratios">Liquidity Ratios</h2>
<p>Liquidity ratios assess a company’s ability to meet its short-term obligations and are typically calculated using balance sheet items. These ratios are particularly important for creditors and investors concerned about a company’s short-term financial health and ability to cover immediate obligations.</p>
<p>The Current Ratio is the most basic measure of liquidity, comparing all current assets to current liabilities:</p>
<p><span class="math display">\[\text{Current Ratio} = \frac{\text{Current Assets}}{\text{Total Liabilities}}\]</span></p>
<p>A ratio above one indicates that the company has enough current assets to cover its current liabilities, which are due within one year as discussed above.</p>
<p>However, not all current assets are equally liquid, i.e., can be easily sold to meet a company’s obligations. This aspect is reflected in the Quick Ratio:</p>
<p><span class="math display">\[\text{Quick Ratio} = \frac{\text{Current Assets - Inventory}}{\text{Current Liabilities}}\]</span> The Quick Ratio provides a more stringent measure of liquidity by excluding inventory, which is typically the least liquid current asset. Furthermore, a company without inventory for production or sale will have a difficult operating position. A ratio above one suggests strong short-term solvency without relying on selling off inventory.</p>
<p>The most conservative liquidity measure is the Cash Ratio:</p>
<p><span class="math display">\[\text{Cash Ratio} = \frac{\text{Cash and Cash Equivalents}}{\text{Current Liabilities}}\]</span></p>
<p>This ratio focuses solely on the most liquid assets - cash and cash equivalents. While a ratio of one indicates robust liquidity, most companies maintain lower cash ratios to avoid holding excessive non-productive assets. Afterall, all that cash could also be distributed to equity or pay down costly debt.</p>
<p>Next, we calculate these ratios for all stocks, focusing on three major technology companies:</p>
<div id="a8797027" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>selected_symbols <span class="op">=</span> [<span class="st">"MSFT"</span>, <span class="st">"AAPL"</span>, <span class="st">"AMZN"</span>, <span class="st">"NVDA"</span>]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>balance_sheet_statements <span class="op">=</span> (balance_sheet_statements</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  .assign(</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    fiscal_year<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"fiscal_year"</span>].astype(<span class="bu">int</span>),</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    current_ratio<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"total_current_assets"</span>] <span class="op">/</span> x[<span class="st">"total_assets"</span>],</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    quick_ratio<span class="op">=</span><span class="kw">lambda</span> x: (x[<span class="st">"total_current_assets"</span>] <span class="op">-</span> x[<span class="st">"inventory"</span>]) <span class="op">/</span> x[<span class="st">"total_current_liabilities"</span>],</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    cash_ratio<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"cash_and_cash_equivalents"</span>] <span class="op">/</span> x[<span class="st">"total_current_liabilities"</span>],</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="kw">lambda</span> x: np.where(x[<span class="st">"symbol"</span>].isin(selected_symbols), x[<span class="st">"symbol"</span>], np.nan)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><a href="#fig-409" class="quarto-xref">Figure&nbsp;8</a> compares the three liquidity ratios across Microsoft, Apple, and Amazon for 2023. We call such an analysis a cross-sectional comparison.</p>
<div id="cell-fig-409" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>liquidity_ratios <span class="op">=</span> (balance_sheet_statements</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  .query(<span class="st">"fiscal_year == 2023 &amp; label.notna()"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  .get([<span class="st">"symbol"</span>, <span class="st">"current_ratio"</span>, <span class="st">"quick_ratio"</span>, <span class="st">"cash_ratio"</span>])</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  .melt(id_vars<span class="op">=</span>[<span class="st">"symbol"</span>], var_name<span class="op">=</span><span class="st">"name"</span>, value_name<span class="op">=</span><span class="st">"value"</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  .assign(</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"name"</span>].<span class="bu">str</span>.replace(<span class="st">"_"</span>, <span class="st">" "</span>).<span class="bu">str</span>.title()</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>liquidity_ratios_figure <span class="op">=</span> (</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  ggplot(</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    liquidity_ratios, </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    aes(y<span class="op">=</span><span class="st">"value"</span>, x<span class="op">=</span><span class="st">"name"</span>, fill<span class="op">=</span><span class="st">"symbol"</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> geom_col(position<span class="op">=</span><span class="st">"dodge"</span>)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> coord_flip()</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_y_continuous(labels<span class="op">=</span>percent_format())</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> labs(</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>      x<span class="op">=</span><span class="st">""</span>, y<span class="op">=</span><span class="st">""</span>, fill<span class="op">=</span><span class="st">""</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>      title<span class="op">=</span><span class="st">"Liquidity ratios for selected stocks for 2023"</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>liquidity_ratios_figure.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="fig-409" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Title: Liquidity ratios for selected stocks for 2023. The figure shows a bar chart of liquidity ratios for three companies.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-409-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="financial-statement-analysis_files/figure-html/fig-409-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Figure&nbsp;8: Liquidity ratios are based on financial statements provided through the FMP API."><img src="financial-statement-analysis_files/figure-html/fig-409-output-1.png" alt="Title: Liquidity ratios for selected stocks for 2023. The figure shows a bar chart of liquidity ratios for three companies." width="2100" height="1500" class="figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-409-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Liquidity ratios are based on financial statements provided through the FMP API.
</figcaption>
</figure>
</div>
</div>
</div>
<p>While we are not commenting on the ratios in detail here, the liquidity ratios for Microsoft, Apple, and Amazon in 2023 reveal distinct patterns. Generally, higher liquidity ratios signal a more convervative approach by holding larger liquidity buffers in the company.</p>
</section>
<section id="leverage-ratios" class="level2">
<h2 class="anchored" data-anchor-id="leverage-ratios">Leverage Ratios</h2>
<p>Leverage ratios assess a company’s capital structure, in particular, its mix between debt and equity. These metrics are crucial for understanding the company’s financial risk and long-term solvency. We examine three key leverage measures.</p>
<p>The debt-to-equity ratio indicates how much a company is financing its operations through debt versus shareholders’ equity:</p>
<p><span class="math display">\[\text{Debt-to-Equity} = \frac{\text{Total Debt}}{\text{Total Equity}}\]</span></p>
<p>The debt-to-asset ratio shows the percentage of assets financed through debt:</p>
<p><span class="math display">\[\text{Debt-to-Asset} = \frac{\text{Total Debt}}{\text{Total Assets}}\]</span></p>
<p>Interest coverage measures a company’s ability to meet interest payments:</p>
<p><span class="math display">\[\text{Interest Coverage} = \frac{\text{EBIT}}{\text{Interest Expense}}\]</span></p>
<p>Let’s calculate these ratios for our sample of companies:</p>
<div id="df11d288" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>balance_sheet_statements <span class="op">=</span> balance_sheet_statements.assign(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  debt_to_equity<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"total_debt"</span>] <span class="op">/</span> x[<span class="st">"total_equity"</span>],</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  debt_to_asset<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"total_debt"</span>] <span class="op">/</span> x[<span class="st">"total_assets"</span>]</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>income_statements <span class="op">=</span> income_statements.assign(</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  fiscal_year<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"fiscal_year"</span>].astype(<span class="bu">int</span>),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  interest_coverage<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"operating_income"</span>] <span class="op">/</span> x[<span class="st">"interest_expense"</span>],</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  label<span class="op">=</span><span class="kw">lambda</span> x: np.where(x[<span class="st">"symbol"</span>].isin(selected_symbols), x[<span class="st">"symbol"</span>], np.nan)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><a href="#fig-410" class="quarto-xref">Figure&nbsp;9</a> tracks the evolution of debt-to-asset ratios for Microsoft, Apple, and Amazon over time:</p>
<div id="cell-fig-410" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>debt_to_asset <span class="op">=</span> (balance_sheet_statements</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  .query(<span class="st">"symbol in @selected_symbols"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>debt_to_asset_figure <span class="op">=</span> (</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  ggplot(</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    debt_to_asset,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    aes(x<span class="op">=</span><span class="st">"fiscal_year"</span>, y<span class="op">=</span><span class="st">"debt_to_asset"</span>, color<span class="op">=</span><span class="st">"symbol"</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> geom_line(size<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_y_continuous(labels<span class="op">=</span>percent_format())</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> labs(</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>      x<span class="op">=</span><span class="st">""</span>, y<span class="op">=</span><span class="st">""</span>, color<span class="op">=</span><span class="st">""</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>      title<span class="op">=</span><span class="st">"Debt-to-asset ratios of selected stocks between 2020 and 2024"</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>debt_to_asset_figure.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="fig-410" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Title: Debt-to-asset ratios of selected stocks between 2020 and 2024. The figure shows a line chart with years on the horizontal axis and debt-to-asset ratios on the vertical axis.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-410-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="financial-statement-analysis_files/figure-html/fig-410-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Figure&nbsp;9: Debt-to-asset ratios are based on financial statements provided through the FMP API."><img src="financial-statement-analysis_files/figure-html/fig-410-output-1.png" alt="Title: Debt-to-asset ratios of selected stocks between 2020 and 2024. The figure shows a line chart with years on the horizontal axis and debt-to-asset ratios on the vertical axis." width="2100" height="1500" class="figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-410-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: Debt-to-asset ratios are based on financial statements provided through the FMP API.
</figcaption>
</figure>
</div>
</div>
</div>
<p>The evolution of debt-to-asset ratios among these major technology companies reveals distinct capital structure strategies and their changes over time. While Apple and Microsoft reduced leverage over time, Amazon has maintained its leverage level.</p>
<p><a href="#fig-411" class="quarto-xref">Figure&nbsp;10</a> provides a cross-sectional view of debt-to-asset ratios across all stocks in 2023.</p>
<div id="cell-fig-411" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>selected_colors <span class="op">=</span> [<span class="st">"#F21A00"</span>, <span class="st">"#EBCC2A"</span>, <span class="st">"#78B7C5"</span>, <span class="st">"#3B9AB2"</span>, <span class="st">"lightgrey"</span>]</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>debt_to_asset_comparison <span class="op">=</span> (balance_sheet_statements</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  .query(<span class="st">"fiscal_year == 2023"</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>debt_to_asset_comparison[<span class="st">"symbol"</span>] <span class="op">=</span> pd.Categorical(</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  debt_to_asset_comparison[<span class="st">"symbol"</span>],</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  categories<span class="op">=</span>debt_to_asset_comparison.sort_values(<span class="st">"debt_to_asset"</span>)[<span class="st">"symbol"</span>],</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  ordered<span class="op">=</span><span class="va">True</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>debt_to_asset_comparison_figure <span class="op">=</span> (</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  ggplot(</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    debt_to_asset_comparison,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    aes(y<span class="op">=</span><span class="st">"debt_to_asset"</span>, x<span class="op">=</span><span class="st">"symbol"</span>, fill<span class="op">=</span><span class="st">"label"</span>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> geom_col()</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> coord_flip()</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_y_continuous(labels<span class="op">=</span>percent_format())</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_fill_manual(selected_colors) </span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> labs(</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>      x<span class="op">=</span><span class="st">""</span>, y<span class="op">=</span><span class="st">""</span>, fill<span class="op">=</span><span class="st">""</span>,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>      title<span class="op">=</span><span class="st">"Debt-to-asset ratios of selected stocks in 2023"</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> theme(legend_position<span class="op">=</span><span class="st">"none"</span>)</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>debt_to_asset_comparison_figure.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="fig-411" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Title: Debt-to-asset ratios of selected stocks in 2023. The figure shows a bar chart with debt-to-asset ratios on the horizontal and corresponding symbols on the vertical axis.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-411-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="financial-statement-analysis_files/figure-html/fig-411-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10" title="Figure&nbsp;10: Debt-to-asset ratios are based on financial statements provided through the FMP API."><img src="financial-statement-analysis_files/figure-html/fig-411-output-1.png" alt="Title: Debt-to-asset ratios of selected stocks in 2023. The figure shows a bar chart with debt-to-asset ratios on the horizontal and corresponding symbols on the vertical axis." width="2100" height="1500" class="figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-411-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: Debt-to-asset ratios are based on financial statements provided through the FMP API.
</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-412" class="quarto-xref">Figure&nbsp;11</a> reveals the relationship between companies’ debt levels and their ability to service that debt.</p>
<div id="cell-fig-412" class="cell" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>interest_coverage <span class="op">=</span> (income_statements</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  .query(<span class="st">"fiscal_year == 2023"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  .get([<span class="st">"symbol"</span>, <span class="st">"fiscal_year"</span>, <span class="st">"interest_coverage"</span>])</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  .merge(balance_sheet_statements, on<span class="op">=</span>[<span class="st">"symbol"</span>, <span class="st">"fiscal_year"</span>], how<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>interest_coverage_figure <span class="op">=</span> (</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  ggplot(</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    interest_coverage,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    aes(x<span class="op">=</span><span class="st">"debt_to_asset"</span>, y<span class="op">=</span><span class="st">"interest_coverage"</span>, color<span class="op">=</span><span class="st">"label"</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> geom_point(size<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> geom_label(aes(label<span class="op">=</span><span class="st">"label"</span>), adjust_text<span class="op">=</span>{<span class="st">"arrowprops"</span>: {<span class="st">"arrowstyle"</span>: <span class="st">"-"</span>}})</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_x_continuous(labels<span class="op">=</span>percent_format())</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_y_continuous(labels<span class="op">=</span>percent_format())</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_color_manual(values<span class="op">=</span>selected_colors)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> labs(</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>      x<span class="op">=</span><span class="st">"Debt-to-Asset"</span>, y<span class="op">=</span><span class="st">"Interest Coverage"</span>,</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>      title<span class="op">=</span><span class="st">"Debt-to-asset ratios and interest coverages for selected stocks"</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> theme(legend_position<span class="op">=</span><span class="st">"none"</span>)</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>interest_coverage_figure.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="fig-412" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Title: Debt-to-asset ratios and interest coverages for selected stocks. The figure shows a scatter plot with debt-to-asset on the horizontal and interest coverage on the vertical axis.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-412-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="financial-statement-analysis_files/figure-html/fig-412-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11" title="Figure&nbsp;11: Debt-to-asset ratios and interest coverages are based on financial statements provided through the FMP API."><img src="financial-statement-analysis_files/figure-html/fig-412-output-1.png" alt="Title: Debt-to-asset ratios and interest coverages for selected stocks. The figure shows a scatter plot with debt-to-asset on the horizontal and interest coverage on the vertical axis." width="2100" height="1500" class="figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-412-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: Debt-to-asset ratios and interest coverages are based on financial statements provided through the FMP API.
</figcaption>
</figure>
</div>
</div>
</div>
<p>The scatter plot suggests that companies with higher debt-to-asset ratios tend to have lower interest coverage ratios, though there’s considerable variation in this relation. Quantification of this relation is left as an exercise.</p>
</section>
<section id="efficiency-ratios" class="level2">
<h2 class="anchored" data-anchor-id="efficiency-ratios">Efficiency Ratios</h2>
<p>Efficiency ratios measure how a company utilizes its assets and manages its operations. These metrics help us to understand operational performance and management effectiveness, particularly in how well a company converts its various assets into revenue and profit.</p>
<p>Asset Turnover measures how efficiently a company uses its total assets to generate revenue:</p>
<p><span class="math display">\[\text{Asset Turnover} = \frac{\text{Revenue}}{\text{Total Assets}}\]</span></p>
<p>A higher ratio indicates more efficient use of assets in generating sales. However, this ratio typically varies significantly across industries - retail companies often have higher turnover ratios due to lower asset requirements, while manufacturing companies might show lower ratios due to substantial fixed asset investments. Such industry-specifics show the importance of cross-sectional comparisons, when making decisions based on data.</p>
<p>Inventory turnover indicates how many times a company’s inventory is sold and replaced over a period:</p>
<p><span class="math display">\[\text{Inventory Turnover} = \frac{\text{COGS}}{\text{Inventory}}\]</span></p>
<p>Higher inventory turnover suggests more efficient inventory management and working capital utilization. However, extremely high ratios might indicate potential stockouts, while very low ratios could suggest obsolete inventory or overinvestment in working capital.</p>
<p>Receivables turnover measures how effectively a company collects payments from customers:</p>
<p><span class="math display">\[\text{Receivables Turnover} = \frac{\text{Revenue}}{\text{Accounts Receivable}}\]</span> A higher ratio indicates more efficient credit and collection processes, though this must be balanced against the potential impact on sales from overly restrictive credit policies.</p>
<p>Here is how we can calculate these efficiency metrics across our sample of selected stocks:</p>
<div id="1d831ae3" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>combined_statements <span class="op">=</span> (balance_sheet_statements</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  .get(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"symbol"</span>, <span class="st">"fiscal_year"</span>, <span class="st">"label"</span>, <span class="st">"current_ratio"</span>, <span class="st">"quick_ratio"</span>, </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>     <span class="st">"cash_ratio"</span>, <span class="st">"debt_to_equity"</span>, <span class="st">"debt_to_asset"</span>, <span class="st">"total_assets"</span>, </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>     <span class="st">"total_equity"</span>]</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  .merge(</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    (income_statements</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>      .get([<span class="st">"symbol"</span>, <span class="st">"fiscal_year"</span>, <span class="st">"interest_coverage"</span>, <span class="st">"revenue"</span>, </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">"cost_of_revenue"</span>, <span class="st">"selling_general_and_administrative_expenses"</span>, </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">"interest_expense"</span>,<span class="st">"gross_profit"</span>, <span class="st">"net_income"</span>])</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    on<span class="op">=</span>[<span class="st">"symbol"</span>, <span class="st">"fiscal_year"</span>],</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    how<span class="op">=</span><span class="st">"left"</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  .merge(</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    (cash_flow_statements</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>      .assign(fiscal_year<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"fiscal_year"</span>].astype(<span class="bu">int</span>))</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>      .get([<span class="st">"symbol"</span>, <span class="st">"fiscal_year"</span>, <span class="st">"inventory"</span>, <span class="st">"accounts_receivables"</span>])</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>    on<span class="op">=</span>[<span class="st">"symbol"</span>, <span class="st">"fiscal_year"</span>],</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>    how<span class="op">=</span><span class="st">"left"</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>combined_statements <span class="op">=</span> (combined_statements</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  .assign(</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    asset_turnover<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"revenue"</span>] <span class="op">/</span> x[<span class="st">"total_assets"</span>],</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>    inventory_turnover<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"cost_of_revenue"</span>] <span class="op">/</span> x[<span class="st">"inventory"</span>],</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>    receivables_turnover<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"revenue"</span>] <span class="op">/</span> x[<span class="st">"accounts_receivables"</span>]</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We leave the visualization and interpretation of these figures as an exercise and move on the the last category of financial ratios.</p>
</section>
<section id="profitability-ratios" class="level2">
<h2 class="anchored" data-anchor-id="profitability-ratios">Profitability Ratios</h2>
<p>Profitability ratios evaluate a company’s ability to generate earnings relative to its revenue, assets, and equity. These metrics are fundamental to investment analysis as they directly measure a company’s operational efficiency and financial success.</p>
<p>The gross margin measures what percentage of revenue remains after accounting for the direct costs of producing goods or services:</p>
<p><span class="math display">\[\text{Gross Margin} = \frac{\text{Gross Profit}}{\text{Revenue}}\]</span></p>
<p>A higher gross margin indicates stronger pricing power or more efficient production processes. This metric is particularly useful for comparing companies within the same industry, as it reveals their relative efficiency in core operations before accounting for operating expenses and other costs.</p>
<p>The profit margin reveals what percentage of revenue ultimately becomes net income:</p>
<p><span class="math display">\[\text{Profit Margin} = \frac{\text{Net Income}}{\text{Revenue}}\]</span> This comprehensive profitability measure accounts for all costs, expenses, interest, and taxes. A higher profit margin suggests more effective overall cost management and stronger competitive position, though optimal margins vary significantly across industries.</p>
<p>Return on Equity (ROE) measures how efficiently a company uses shareholders’ investments to generate profits:</p>
<p><span class="math display">\[\text{After-Tax ROE} = \frac{\text{Net Income}}{\text{Total Equity}}\]</span> This metric is particularly important for investors as it directly measures the return on their invested capital (at least in terms of book value of equity). A higher ROE indicates more effective use of shareholders’ equity, though it must be considered alongside leverage ratios since high debt levels can artificially inflate ROE.</p>
<p>The next code chunk calculates these profitability metrics for our sample of companies, allowing us to analyze how different firms convert their revenue into various levels of profit and return on investment.</p>
<div id="f32a9f7a" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>combined_statements <span class="op">=</span> combined_statements.assign(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  gross_margin<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"gross_profit"</span>] <span class="op">/</span> x[<span class="st">"revenue"</span>],</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  profit_margin<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"net_income"</span>] <span class="op">/</span> x[<span class="st">"revenue"</span>],</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  after_tax_roe<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"net_income"</span>] <span class="op">/</span> x[<span class="st">"total_equity"</span>]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><a href="#fig-413" class="quarto-xref">Figure&nbsp;12</a> shows the patterns in gross margin trends among Microsoft, Apple, and Amazon between 2019 and 2023.</p>
<div id="cell-fig-413" class="cell" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>gross_margins <span class="op">=</span> (combined_statements</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  .query(<span class="st">"symbol in @selected_symbols"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>gross_margins_figure <span class="op">=</span> (</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  ggplot(</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    gross_margins,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    aes(x<span class="op">=</span><span class="st">"fiscal_year"</span>, y<span class="op">=</span><span class="st">"gross_margin"</span>, color<span class="op">=</span><span class="st">"symbol"</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> geom_line()</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_y_continuous(labels<span class="op">=</span>percent_format())</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> labs(</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>      x<span class="op">=</span><span class="st">""</span>, y<span class="op">=</span><span class="st">""</span>, color<span class="op">=</span><span class="st">""</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>      title<span class="op">=</span><span class="st">"Gross margins for selected stocks between 2019 and 2023"</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>gross_margins_figure.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="fig-413" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Title: Gross margins for selected stocks between 2019 and 2023. The figure shows a line chart with years on the horizontal axis and gross margins on the vertical axis.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-413-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="financial-statement-analysis_files/figure-html/fig-413-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12" title="Figure&nbsp;12: Gross margins are based on financial statements provided through the FMP API."><img src="financial-statement-analysis_files/figure-html/fig-413-output-1.png" alt="Title: Gross margins for selected stocks between 2019 and 2023. The figure shows a line chart with years on the horizontal axis and gross margins on the vertical axis." width="2100" height="1500" class="figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-413-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: Gross margins are based on financial statements provided through the FMP API.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Microsoft maintains the highest margins at 65-70%, reflecting its low-cost software business model, while Apple and Amazon show lower but improving margins from around 40% to 45-47%. This divergence highlights fundamental business model differences.</p>
<p><a href="#fig-414" class="quarto-xref">Figure&nbsp;13</a> illustrates the relationship between gross margins and profit margins across all stocks.</p>
<div id="cell-fig-414" class="cell" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>profit_margins <span class="op">=</span> (combined_statements</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  .query(<span class="st">"fiscal_year == 2023"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>profit_margins_figure <span class="op">=</span> (</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  ggplot(</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    profit_margins,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    aes(x<span class="op">=</span><span class="st">"gross_margin"</span>, y<span class="op">=</span><span class="st">"profit_margin"</span>, color<span class="op">=</span><span class="st">"label"</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> geom_point(size<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> geom_label(</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>      aes(label<span class="op">=</span><span class="st">"label"</span>), </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>      adjust_text<span class="op">=</span>{<span class="st">"arrowprops"</span>: {<span class="st">"arrowstyle"</span>: <span class="st">"-"</span>}}</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_x_continuous(labels<span class="op">=</span>percent_format())</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_y_continuous(labels<span class="op">=</span>percent_format()) </span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_color_manual(values<span class="op">=</span>selected_colors) </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> labs(</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>      x<span class="op">=</span><span class="st">"Gross margin"</span>, y<span class="op">=</span><span class="st">"Profit margin"</span>,</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>      title<span class="op">=</span><span class="st">"Gross and profit margins for selected stocks for 2023"</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> theme(legend_position <span class="op">=</span> <span class="st">"none"</span>)</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>profit_margins_figure.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="fig-414" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Title: Gross and profit margins for selected stocks for 2023. The figure shows a scatter plot with gross margins on the horizontal and profit margins on the vertical axis.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-414-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="financial-statement-analysis_files/figure-html/fig-414-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13" title="Figure&nbsp;13: Gross and profit margins are based on financial statements provided through the FMP API."><img src="financial-statement-analysis_files/figure-html/fig-414-output-1.png" alt="Title: Gross and profit margins for selected stocks for 2023. The figure shows a scatter plot with gross margins on the horizontal and profit margins on the vertical axis." width="2100" height="1500" class="figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-414-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: Gross and profit margins are based on financial statements provided through the FMP API.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="combining-financial-ratios" class="level2">
<h2 class="anchored" data-anchor-id="combining-financial-ratios">Combining Financial Ratios</h2>
<p>While individual financial ratios provide specific insights, combining them offers a more comprehensive view of company performance. By examining how companies rank across different ratio categories, we can better understand their overall financial position and identify potential strengths and weaknesses in their operations.</p>
<p><a href="#fig-415" class="quarto-xref">Figure&nbsp;14</a> compares Microsoft, Apple, and Amazon’s rankings across four key financial ratio categories among all stocks. Rankings closer to 1 indicate better performance within each category.</p>
<div id="cell-fig-415" class="cell" data-execution_count="19">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>financial_ratios <span class="op">=</span> (combined_statements</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  .query(<span class="st">"fiscal_year == 2023"</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  .<span class="bu">filter</span>(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    items<span class="op">=</span>[<span class="st">"symbol"</span>] <span class="op">+</span> [</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>      col <span class="cf">for</span> col <span class="kw">in</span> combined_statements.columns </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> <span class="bu">any</span>(x <span class="kw">in</span> col <span class="cf">for</span> x <span class="kw">in</span> [<span class="st">"ratio"</span>, <span class="st">"margin"</span>, <span class="st">"roe"</span>, <span class="st">"_to_"</span>, <span class="st">"turnover"</span>, <span class="st">"interest_coverage"</span>])</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  .melt(id_vars<span class="op">=</span>[<span class="st">"symbol"</span>], var_name<span class="op">=</span><span class="st">"name"</span>, value_name<span class="op">=</span><span class="st">"value"</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  .assign(</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">type</span><span class="op">=</span><span class="kw">lambda</span> x: np.select(</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>            x[<span class="st">"name"</span>].isin([<span class="st">"current_ratio"</span>, <span class="st">"quick_ratio"</span>, <span class="st">"cash_ratio"</span>]),</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>            x[<span class="st">"name"</span>].isin([<span class="st">"debt_to_equity"</span>, <span class="st">"debt_to_asset"</span>, <span class="st">"interest_coverage"</span>]),</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>            x[<span class="st">"name"</span>].isin([<span class="st">"asset_turnover"</span>, <span class="st">"inventory_turnover"</span>, <span class="st">"receivables_turnover"</span>]),</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>            x[<span class="st">"name"</span>].isin([<span class="st">"gross_margin"</span>, <span class="st">"profit_margin"</span>, <span class="st">"after_tax_roe"</span>]),</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Liquidity Ratios"</span>,</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Leverage Ratios"</span>,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Efficiency Ratios"</span>,</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Profitability Ratios"</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>        default<span class="op">=</span><span class="st">"Other"</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>financial_ratios[<span class="st">"rank"</span>] <span class="op">=</span> (financial_ratios</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>  .sort_values([<span class="st">"type"</span>, <span class="st">"name"</span>, <span class="st">"value"</span>], ascending<span class="op">=</span>[<span class="va">True</span>, <span class="va">True</span>, <span class="va">False</span>])</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>  .groupby([<span class="st">"type"</span>, <span class="st">"name"</span>])</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>  .cumcount() <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>final_ranks <span class="op">=</span> (financial_ratios</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>  .groupby([<span class="st">"symbol"</span>, <span class="st">"type"</span>], as_index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>  .agg(rank<span class="op">=</span>(<span class="st">"rank"</span>, <span class="st">"mean"</span>))</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>  .query(<span class="st">"symbol in @selected_symbols"</span>)</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>final_ranks_figure <span class="op">=</span> (</span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>  ggplot(</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>    final_ranks,</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>    aes(x<span class="op">=</span><span class="st">"rank"</span>, y<span class="op">=</span><span class="st">"type"</span>, color<span class="op">=</span><span class="st">"symbol"</span>)</span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> geom_point(shape<span class="op">=</span><span class="st">"^"</span>, size<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_color_manual(values<span class="op">=</span>selected_colors) </span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> labs(</span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>      x<span class="op">=</span><span class="st">"Average rank"</span>, y<span class="op">=</span><span class="st">""</span>, color<span class="op">=</span><span class="st">""</span>,</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>      title<span class="op">=</span><span class="st">"Average rank among selected stocks"</span></span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> coord_cartesian(xlim<span class="op">=</span>[<span class="dv">1</span>, <span class="dv">30</span>])</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>final_ranks_figure.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="fig-415" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Title: Rank in financial ratio categories for selected stocks. The figure shows a scatter plot with ranks for selected stocks on the horizontal and categories of financial ratios on the vertical axis.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-415-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="financial-statement-analysis_files/figure-html/fig-415-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14" title="Figure&nbsp;14: Ranks are based on financial statements provided through the FMP API."><img src="financial-statement-analysis_files/figure-html/fig-415-output-1.png" alt="Title: Rank in financial ratio categories for selected stocks. The figure shows a scatter plot with ranks for selected stocks on the horizontal and categories of financial ratios on the vertical axis." width="2100" height="1500" class="figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-415-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;14: Ranks are based on financial statements provided through the FMP API.
</figcaption>
</figure>
</div>
</div>
</div>
<p>These combined rankings highlight how different business models and strategies lead to varying financial profiles. This analysis underscores the importance of considering multiple financial metrics together rather than in isolation when evaluating company performance.</p>
</section>
<section id="financial-ratios-in-asset-pricing" class="level2">
<h2 class="anchored" data-anchor-id="financial-ratios-in-asset-pricing">Financial Ratios in Asset Pricing</h2>
<p>The Fama-French five-factor model aims to explain stock returns by incorporating specific financial metrics ratios. We provide more details in <a href="../python/replicating-fama-and-french-factors.html">Replicating Fama-French Factors</a>, but here is an intuitive overview:</p>
<ul>
<li>Size: Calculated as the logarithm of a company’s market capitalization, which is the total market value of its outstanding shares. This factor captures the tendency for smaller firms to outperform larger ones over time.</li>
<li>Book-to-market ratio: Determined by dividing the company’s book equity by its market capitalization. A higher ratio indicates a ‘value’ stock, while a lower ratio suggests a ‘growth’’’ stock. This metric helps differentiate between undervalued and overvalued companies.</li>
<li>Profitability: Measured as the ratio of operating profit to book equity, where operating profit is calculated as revenue minus cost of goods sold (COGS), selling, general, and administrative expenses (SG&amp;A), and interest expense. This factor assesses a company’s efficiency in generating profits from its equity base.</li>
<li>Investment: Calculated as the percentage change in total assets from the previous period. This factor reflects the company’s growth strategy, indicating whether it is investing aggressively or conservatively.</li>
</ul>
<p>We can calculate these factors using the FMP API as follows. Since the free tier only supports historical data for the last couple of months, we use the earliest available data that is returned by default:</p>
<div id="6226730e" class="cell" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>market_cap <span class="op">=</span> pd.concat(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  [fmp_get(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>      resource<span class="op">=</span><span class="st">"historical-market-capitalization"</span>, symbol<span class="op">=</span>x, to_pandas<span class="op">=</span><span class="va">True</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    ) <span class="cf">for</span> x <span class="kw">in</span> sample],</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  ignore_index<span class="op">=</span><span class="va">True</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>min_date <span class="op">=</span> market_cap[<span class="st">"date"</span>].<span class="bu">min</span>()</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>market_cap <span class="op">=</span> market_cap.loc[market_cap[<span class="st">"date"</span>] <span class="op">==</span> min_date]</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>combined_statements_ff <span class="op">=</span> (combined_statements</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  .query(<span class="st">"fiscal_year == 2023"</span>)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  .merge(market_cap, on<span class="op">=</span><span class="st">"symbol"</span>, how<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  .merge(</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    (balance_sheet_statements</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>      .query(<span class="st">"fiscal_year == 2022"</span>)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>      .get([<span class="st">"symbol"</span>, <span class="st">"total_assets"</span>])</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>      .rename(columns<span class="op">=</span>{<span class="st">"total_assets"</span>: <span class="st">"total_assets_lag"</span>})</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    on<span class="op">=</span><span class="st">"symbol"</span>, how<span class="op">=</span><span class="st">"left"</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  .assign(</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>    size<span class="op">=</span><span class="kw">lambda</span> x: np.log(x[<span class="st">"market_cap"</span>]),</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>    book_to_market<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"total_equity"</span>] <span class="op">/</span> x[<span class="st">"market_cap"</span>],</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>    operating_profitability<span class="op">=</span><span class="kw">lambda</span> x: (</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>        (x[<span class="st">"revenue"</span>] <span class="op">-</span> x[<span class="st">"cost_of_revenue"</span>] <span class="op">-</span> x[<span class="st">"selling_general_and_administrative_expenses"</span>] <span class="op">-</span> x[<span class="st">"interest_expense"</span>])</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">/</span> x[<span class="st">"total_equity"</span>]</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>    investment<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"total_assets"</span>] <span class="op">/</span> x[<span class="st">"total_assets_lag"</span>]</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><a href="#fig-416" class="quarto-xref">Figure&nbsp;15</a> shows the ranks of our selected stocks for ratios used in the Fama-French model. The ranks of Microsoft, Apple, and Amazon across Fama-French factors reveal interesting patterns in how these major technology companies align with established asset pricing factors.</p>
<div id="cell-fig-416" class="cell" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>factors_ranks <span class="op">=</span> (combined_statements_ff</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  .get([<span class="st">"symbol"</span>, <span class="st">"size"</span>, <span class="st">"book_to_market"</span>, <span class="st">"operating_profitability"</span>, <span class="st">"investment"</span>])</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  .rename(columns<span class="op">=</span>{</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"size"</span>: <span class="st">"Size"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"book_to_market"</span>: <span class="st">"Book-to-Market"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"operating_profitability"</span>: <span class="st">"Profitability"</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"investment"</span>: <span class="st">"Investment"</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  .melt(id_vars<span class="op">=</span>[<span class="st">"symbol"</span>], var_name<span class="op">=</span><span class="st">"name"</span>, value_name<span class="op">=</span><span class="st">"value"</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  .assign(</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    rank<span class="op">=</span><span class="kw">lambda</span> x: (</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>      x.sort_values([<span class="st">"name"</span>, <span class="st">"value"</span>], ascending<span class="op">=</span>[<span class="va">True</span>, <span class="va">False</span>])</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>      .groupby(<span class="st">"name"</span>)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>      .cumcount() <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  .query(<span class="st">"symbol in @selected_symbols"</span>)</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>factors_ranks_figure <span class="op">=</span> (</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>  ggplot(</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>    factors_ranks,</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>    aes(x<span class="op">=</span><span class="st">"rank"</span>, y<span class="op">=</span><span class="st">"name"</span>, color<span class="op">=</span><span class="st">"symbol"</span>)</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> geom_point(shape<span class="op">=</span><span class="st">"^"</span>, size<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> scale_color_manual(values<span class="op">=</span>selected_colors) </span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> labs(</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>      x<span class="op">=</span><span class="st">"Rank"</span>, y<span class="op">=</span><span class="st">""</span>, color<span class="op">=</span><span class="st">""</span>,</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>      title<span class="op">=</span><span class="st">"Rank in Fama-French variables for selected stocks"</span></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>  <span class="op">+</span> coord_cartesian(xlim<span class="op">=</span>[<span class="dv">1</span>, <span class="dv">30</span>])</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>factors_ranks_figure.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="fig-416" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Title: Rank in Fama-French variables for selected stocks. The figure shows a scatter plot with ranks for selected stocks on the horizontal and Fama-French variables on the vertical axis.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-416-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="financial-statement-analysis_files/figure-html/fig-416-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15" title="Figure&nbsp;15: Ranks are based on financial statements and historical market capitalization provided through the FMP API."><img src="financial-statement-analysis_files/figure-html/fig-416-output-1.png" alt="Title: Rank in Fama-French variables for selected stocks. The figure shows a scatter plot with ranks for selected stocks on the horizontal and Fama-French variables on the vertical axis." width="2100" height="1500" class="figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-416-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;15: Ranks are based on financial statements and historical market capitalization provided through the FMP API.
</figcaption>
</figure>
</div>
</div>
</div>
<p>As expected, all three tech giants rank among the largest firms by size. Apple shows the highest profitability among the three tech giants according to the new measure, while Microsoft ranks only in the middle. In terms of investment, however, Apple ranks in the lower third of the distribution. All three stocks exhibit relatively low book-to-market ratios—typical of growth stocks—but only when compared to other stocks in our sample.</p>
</section>
<section id="key-takeaways" class="level2">
<h2 class="anchored" data-anchor-id="key-takeaways">Key Takeaways</h2>
<ul>
<li>Financial statements offer structured insights into a company’s financial health by summarizing its assets, liabilities, equity, revenues, expenses, and cash flows.</li>
<li>Liquidity ratios, such as the current, quick, and cash ratios, help assess a company’s ability to meet short-term obligations using different levels of liquid assets.</li>
<li>Leverage ratios, including debt-to-equity and debt-to-asset, measure how a company finances its operations and indicate long-term financial risk and capital structure.</li>
<li>Profitability ratios, such as gross margin, profit margin, and return on equity, show how effectively a company turns revenues and investments into earnings.</li>
<li>Efficiency ratios, including asset turnover and inventory turnover, highlight how well a company manages its assets and operations to generate sales.</li>
<li>Financial ratios also serve as key inputs in asset pricing models, such as the Fama-French five-factor model, linking corporate fundamentals to expected stock returns.</li>
</ul>
</section>
<section id="exercises" class="level2">
<h2 class="anchored" data-anchor-id="exercises">Exercises</h2>
<ol type="1">
<li>Download the financial statements for Netflix (NFLX) using the FMP API. Calculate its current ratio, quick ratio, and cash ratio for the past three years. Create a line plot showing how these liquidity ratios have evolved over time. How do Netflix’s liquidity ratios compare to those of the technology companies discussed in this chapter?</li>
<li>Select three companies from different industries. Calculate their debt-to-equity ratios, debt-to-asset ratios, and interest coverage ratios. Create a visualization comparing these leverage metrics across the companies. Write a brief analysis explaining how and why leverage patterns differ across industries.</li>
<li>For all stocks in the sample above, calculate asset turnover, inventory turnover, and receivables turnover. Create a scatter plot showing the relationship between asset turnover and profitability. Identify any outliers and explain potential reasons for their unusual performance. Which industries tend to show higher efficiency ratios? Why might this be the case?</li>
<li>Revisit the scatter plot of debt-to-asset ratios and interest coverages by adding a regression line and quantifying the relationship between the two variables. How can you describe their relationship?</li>
</ol>


</section>

</main> <!-- /main -->
<div class="custom-footer">
  <div class="copyright">© Christoph Frey, Christoph Scheuch, Stefan Voigt &amp; Patrick Weiss</div>
  <a href="disclaimer.html">Disclaimer</a>
  <a href="#" id="open_preferences_center">Cookie Preferences</a>
</div>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("^(?:http:|https:)\/\/www\.tidy-finance\.org");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../python/capital-asset-pricing-model.html" class="pagination-link" aria-label="The Capital Asset Pricing Model">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">The Capital Asset Pricing Model</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../python/discounted-cash-flow-analysis.html" class="pagination-link" aria-label="Discounted Cash Flow Analysis">
        <span class="nav-page-text">Discounted Cash Flow Analysis</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">

<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/tidy-finance/website/blob/main/python/financial-statement-analysis.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>